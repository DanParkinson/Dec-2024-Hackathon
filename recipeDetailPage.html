<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dynamic Desert Page</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./desert.css" />
    <link rel="stylesheet" href="./home.css" />
  </head>
  <body>
    <!-- Navbar -->
    <div id="navbar-container"></div>
    <script>
      fetch("navbar.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("navbar-container").innerHTML = data;

          // Reattach event listeners if needed
          const menuToggle = document.querySelector(".menu-toggle");
          if (menuToggle) {
            menuToggle.addEventListener("click", () => {
              const menu = document.querySelector(".menu");
              if (menu) menu.classList.toggle("active");
            });
          }

          const menuLinks = document.querySelectorAll(".menu a");
          menuLinks.forEach((link) => {
            link.addEventListener("click", function () {
              menuLinks.forEach((item) => item.classList.remove("active"));
              this.classList.add("active");
            });
          });
        });
    </script>

    <!-- Main Content -->
    <div class="main-body-catergory">
      <div class="container-category-container">
        <div class="text-content">
          <h1>Default Title</h1>
          <p>
            Elevate your dinner with Bacon and Mushroom Fried Rice topped with
            perfectly poached eggs â€“ a savoury, satisfying meal in every bite.
          </p>
          <div class="info">
            <i class="fas fa-utensils"> </i>
            <span> 4 people </span>
            <i class="fas fa-clock"> </i>
            <span> 30 min </span>
          </div>

          <div class="nutrition-container-unique">
            <div class="nutrition-title-unique" style="text-align: left">
              NUTRITION PER SERVING
            </div>
            <div class="nutrition-grid-unique">
              <div class="nutrition-item-unique">
                <div class="label-unique">kcal</div>
                <div class="value-unique">405kcal</div>
              </div>
              <div class="nutrition-item-unique">
                <div class="label-unique">protein</div>
                <div class="value-unique">15g</div>
              </div>
              <div class="nutrition-item-unique">
                <div class="label-unique">total fat</div>
                <div class="value-unique">19g</div>
              </div>
              <div class="nutrition-item-unique">
                <div class="label-unique">iron</div>
                <div class="value-unique">2.1mg</div>
              </div>
              <div class="nutrition-item-unique">
                <div class="label-unique">carbs</div>
                <div class="value-unique">40g</div>
              </div>
            </div>
          </div>
        </div>
        <div class="image-content">
          <img
            alt="Default Image"
            height="400"
            src="./images/home/default.jpg"
            width="400"
          />
        </div>
      </div>
    </div>

    <!-- Recipe Section -->
    <div class="recipe-body">
      <div class="recipe-container">
        <div class="recipe-left-column">
          <div class="recipe-icon-bar">
            <i class="fas fa-envelope">&nbsp; Email</i>
          </div>
          <h1 class="recipe-title">Ingredients</h1>
          <p class="recipe-text">4 large eggs</p>
          <p class="recipe-text">2 tbsp rapeseed oil</p>
          <p class="recipe-text">
            100g bacon lardons, diced streaky rashers or sliced cooked ham
          </p>
          <p class="recipe-text">1 bunch scallions, cleaned and chopped</p>
          <p class="recipe-text">100g chestnut mushrooms, sliced</p>
          <p class="recipe-text">1 chilli, deseeded and chopped</p>
          <p class="recipe-text">2 garlic cloves, peeled and chopped</p>
          <p class="recipe-text">2cm piece of ginger, peeled and grated</p>
          <p class="recipe-text">200g basmati rice, cooked</p>
        </div>
        <div class="recipe-right-column">
          <div class="recipe-icon-bar">
            <i class="fas fa-copy"></i>
          </div>
          <h1 class="recipe-title">Method</h1>
          <p class="recipe-text">
            Heat a tablespoon of rapeseed oil in a large non-stick frying pan.
            Add the bacon and cook for 2-3 minutes.
          </p>
          <p class="recipe-text">
            Add half the scallions, the mushrooms, chilli, garlic and ginger.
            Cook, stirring frequently, for about 3-4 minutes.
          </p>
          <p class="recipe-text">
            Add in the rice, remaining scallions and soy sauce. Cook until
            heated through, stirring all the time. Taste and season with a
            little salt and black pepper.
          </p>
          <p class="recipe-text">
            To poach the eggs: Bring a large pan of water to the boil. Reduce to
            a gentle simmer and add the white wine vinegar and a little salt.
            Break two of the eggs into the water and simmer for 3-4 minutes
            until just cooked but still soft on the inside.
          </p>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div id="footer-container"></div>
    <script>
      fetch("footer.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("footer-container").innerHTML = data;
        });

      // Extract and apply query parameters
      const queryParams = new URLSearchParams(window.location.search);
      const title = queryParams.get("title");
      const imageName = queryParams.get("image");

      // Update the title dynamically
      if (title) {
        document.querySelector(".text-content h1").textContent = title;
      }

      // Update the image dynamically
      if (imageName) {
        const imageElement = document.querySelector(".image-content img");
        if (imageElement) {
          imageElement.src = `./images/home/${imageName}`;
          imageElement.alt = `Image of ${title}`;
        }
      }
    </script>
  </body>
</html>
